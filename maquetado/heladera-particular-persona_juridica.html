<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet">

    <title>SMAACVS - Heladera</title>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

    <!-- Iconify Script -->
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>

    <!-- Mapbox CSS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="main.css">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="js/include.js"></script>
</head>

<body>
<div class="wrapper">
    <!-- Header -->
    <header class="main-navbar">
        <div class="d-flex align-items-center justify-content-between ms-sm-5 me-sm-5 mt-3 pb-3 ms-3 me-3">
            <div class="d-flex align-items-center">
                <a href="#" class="fw-bold fs-4 d-inline-block dark-text">
                    SMAACVS
                    <span class="fw-normal">|</span>
                    <span class="fw-medium fs-5">Heladera</span>
                </a>
            </div>
            <div class="d-none d-md-flex align-items-center">
                <span class="fw-bold fs-6 pe-2">Google LLC</span>
                <button class="btn btn-dark p-2">
                    <span class="iconify" data-icon="fluent:building-multiple-20-regular" data-width="24" data-height="24"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Side Bar -->
    <section class="row flex-grow-1 ms-sm-5 me-sm-5 mt-3 ms-3 me-3">
        <!-- Sidebar -->
        <nav class="col-md-3 p-4 sidebar">
            <!-- Barra de Búsqueda -->
            <div class="input-group mb-4 pt-1">
                <input type="text" class="form-control" placeholder="Buscar...">
                <span class="input-group-text bg-white border-start-0">
                    <span class="iconify" data-icon="mdi:magnify" data-width="24" data-height="24"></span>
                </span>
            </div>

            <!-- Info Heladera -->
            <div class="card rounded-3 info-heladera position-relative">
                <!-- Icono de editar -->
                <div class="position-absolute top-0 end-0 p-2">
                    <button class="btn btn-dark p-1 rounded-2" style="width: 22px; height: 22px;">
                        <span class="iconify pb-1 mb-5 pe-1" data-icon="tdesign:edit" data-width="20" data-height="20"></span>
                    </button>
                </div>

                <article style="margin-block-end: 25px">
                    <h5 class="card-result-title me-4">Heladera UTN Medrano</h5>
                    <p class="card-result-text">Av. Medrano 951</p>
                    <p class="card-result-text">Capacidad de 50 viandas</p>
                </article>

                <!-- Fila con label y select alineados horizontalmente -->
                <div class="row mb-3">
                    <label for="topic" class="col-auto col-form-label">Gestionar:</label>
                    <div class="col">
                        <select class="form-select" id="topic">
                            <option selected>Viandas</option>
                            <option value="1">Alertas</option>
                        </select>
                    </div>
                </div>

                <!-- Viandas -->
                <h5 class="card-Item-title">Viandas (10)</h5>
                <div class="scrollable-Items">
                    <div class="card rounded-3 mt-2 mb-2">
                        <div class="card-Item-body">
                            <h5 class="card-Item-text mb-1" style="font-size: 0.7rem;">Arroz con pollo</h5>
                            <p class="card-Item-text">Vence: 19/05/2024</p>
                            <p class="card-Item-text">400 calorias</p>
                            <p class="card-Item-text">200 gramos</p>
                        </div>
                    </div>
                    <div class="card rounded-3 mt-2 mb-2">
                        <div class="card-Item-body">
                            <h5 class="card-Item-text mb-1" style="font-size: 0.7rem;">Arroz con pollo</h5>
                            <p class="card-Item-text">Vence: 19/05/2024</p>
                            <p class="card-Item-text">400 calorias</p>
                            <p class="card-Item-text">200 gramos</p>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Mapa -->
        <main class="col-md-9 p-4 d-flex flex-column">
            <div id="map"></div>

            <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
            <script>
                mapboxgl.accessToken = 'pk.eyJ1IjoiZmdhdW5hc29tYSIsImEiOiJjbHY0NjdlcTcwNXN1Mmpsc2twNHJ4NWs2In0.1rFiIv1sJZ16-xbd4zWnyw';
                var map = new mapboxgl.Map({
                    container: 'map',
                    style: 'mapbox://styles/mapbox/streets-v11',
                    center: [-58.42011700459251, -34.5984903697883],
                    zoom: 11
                });
                map.addControl(new mapboxgl.NavigationControl());

                // Custom marker image URL
                var customMarkerImage = './refrigerator.png';

                function addMarker() {
                    var lat = parseFloat(document.getElementById('latInput').value);
                    var lng = parseFloat(document.getElementById('lngInput').value);

                    if (isNaN(lat) || isNaN(lng)) {
                        alert('Por favor, ingresar una latitud válida.');
                        return;
                    }

                    new mapboxgl.Marker({
                        // Set the custom marker image
                        element: createCustomMarker(customMarkerImage),
                        draggable: true
                    })
                        .setLngLat([lng, lat])
                        .addTo(map);

                    map.flyTo({
                        center: [lng, lat],
                        zoom: 15
                    });
                }

                // Function to create a custom marker element with the specified image
                function createCustomMarker(markerImage) {
                    var img = document.createElement('img');
                    img.src = markerImage;
                    img.style.width = '34px'; // Adjust the size of the marker image as needed
                    img.style.height = '34px'; // Adjust the size of the marker image as needed

                    var customMarker = document.createElement('div');
                    customMarker.appendChild(img);

                    return customMarker;
                }
            </script>
        </main>
    </section>

    <!-- Footer -->
    <div data-include="footer" class="mt-auto"></div>
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Mapbox JS -->
<script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>

</body>
</html>
