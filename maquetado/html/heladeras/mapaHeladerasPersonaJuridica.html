<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet">


    <title>SMAACVS - Heladera</title>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

    <!-- Iconify Script -->
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>

    <!-- Mapbox CSS -->
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../../main.css">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="../../js/include.js"></script>
</head>

<body>
<div class="wrapper">
    <!-- Header-->
    <header class="main-navbar">
        <div class="d-flex align-items-center justify-content-between ms-sm-5 me-sm-5 mt-3 pb-3 ms-3 me-3">
            <div class="d-flex align-items-center">
                <a href="#" class="fw-bold fs-4 d-inline-block dark-text">
                    SMAACVS
                    <span class="fw-normal">|</span>
                    <span class="fw-medium fs-5">Heladera</span>
                </a>
            </div>
            <div class="d-none d-md-flex align-items-center">
                <span class="fw-bold fs-6 pe-2">Google LLC</span>
                <button class="btn btn-dark p-2">
                    <span class="iconify" data-icon="fluent:building-multiple-20-regular" data-width="24" data-height="24"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Side Bar -->

    <section class="row flex-grow-1  ms-sm-5 me-sm-5 mt-3 ms-3 me-3">
        <!-- Sidebar -->
        <nav class="col-md-3  p-4 sidebar">
            <!-- Barra de Búsqueda-->
            <div class="input-group mb-2 pt-1 ">
                <input type="text" class="form-control" placeholder="Buscar...">
                <span class="input-group-text bg-white border-start-0">
                   <span class="iconify" data-icon="mdi:magnify" data-width="24" data-height="24"></span>
               </span>
            </div>

            <!-- Filtro -->
            <div class="dropdown mb-4 w-50">
                <button class="btn btn-secondary dropdown-toggle w-100 text-truncate" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                    Seleccionar Filtro
                </button>
                <ul class="dropdown-menu w-50" aria-labelledby="dropdownMenuButton">
                    <li>
                        <a class="dropdown-item d-flex align-items-center" href="#">
                            <span class="iconify me-2" data-icon="tabler:world" data-width="24"></span>
                            <span class="text-truncate">Todas</span>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item d-flex align-items-center" href="#">
                            <span class="iconify me-2" data-icon="mdi:refrigerator-outline" data-width="24"></span>
                            <span class="text-truncate">Mis heladeras</span>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item d-flex align-items-center" href="#">
                            <span class="iconify me-2" data-icon="mdi:alert-outline" data-width="24"></span>
                            <span class="text-truncate">Mis heladeras con alerta</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Resultados de Búsqueda -->
            <div class="scrollable-results">
                <div class="card rounded-3 transition-card mb-2">
                    <div class="card-result-body" >
                        <h5 class="card-result-title">Heladera UTN Medrano</h5>
                        <p class="card-result-text">Av. Medrano 951</p>
                        <p class="card-result-text">Tiene 10 viandas</p>
                        <p class="card-result-text">Capacidad de 50 viandas</p>
                    </div>
                </div>
                <div class="card rounded-3 mb-2">
                    <div class="card-result-body">
                        <h5 class="card-result-title">Heladera UTN Lugano</h5>
                        <p class="card-result-text">Mozart 2300</p>
                        <p class="card-result-text">Tiene 40 viandas</p>
                        <p class="card-result-text">Capacidad de 60 viandas</p>
                    </div>
                </div>
                <div class="card rounded-3 mb-2">
                    <div class="card-result-body">
                        <h5 class="card-result-title">Heladera Parque Centenario</h5>
                        <p class="card-result-text">Av. Díaz Vélez</p>
                        <p class="card-result-text">Tiene 100 viandas</p>
                        <p class="card-result-text">Capacidad de 200 viandas</p>
                    </div>
                </div>
                <div class="card rounded-3 mb-2">
                    <div class="card-result-body">
                        <h5 class="card-result-title">Heladera Parque Rivadavia</h5>
                        <p class="card-result-text">Av. Rivadavia 4950</p>
                        <p class="card-result-text">Tiene 70 viandas</p>
                        <p class="card-result-text">Capacidad de 100 viandas</p>
                    </div>
                </div>
                <div class="card rounded-3 mb-2">
                    <div class="card-result-body">
                        <h5 class="card-result-title">Heladera Parque Saavedra</h5>
                        <p class="card-result-text">Av. Díaz Vélez</p>
                        <p class="card-result-text">Tiene 105 viandas</p>
                        <p class="card-result-text">Capacidad de 220 viandas</p>
                    </div>
                </div>
                <div class="card rounded-3 transition-card mb-2">
                    <div class="card-result-body" >
                        <h5 class="card-result-title">Heladera Plaza Irlanda</h5>
                        <p class="card-result-text">Av. Medrano 951</p>
                        <p class="card-result-text">Tiene 10 viandas</p>
                        <p class="card-result-text">Capacidad de 50 viandas</p>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Mapa -->
        <main class="col-md-9 p-4 d-flex flex-column">
            <div id="map"></div>
            <!-- <div id="inputForm">
                <label for="latInput">Latitud:</label>
                <input type="text" id="latInput">
                <label for="lngInput">Longitud:</label>
                <input type="text" id="lngInput">
                <button onclick="addMarker()">Agregar heladera</button>
            </div> -->
            <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
            <script> src="heladera.js"
            mapboxgl.accessToken = 'pk.eyJ1IjoiZmdhdW5hc29tYSIsImEiOiJjbHY0NjdlcTcwNXN1Mmpsc2twNHJ4NWs2In0.1rFiIv1sJZ16-xbd4zWnyw';
            var map = new mapboxgl.Map({
                container: 'map',
                style: 'mapbox://styles/mapbox/streets-v11',
                center: [-58.42011700459251, -34.5984903697883],
                zoom: 11
            });
            map.addControl(new mapboxgl.NavigationControl());

            // Custom marker image URL
            var customMarkerImage = './refrigerator.png';

            function addMarker() {
                var lat = parseFloat(document.getElementById('latInput').value);
                var lng = parseFloat(document.getElementById('lngInput').value);

                if (isNaN(lat) || isNaN(lng)) {
                    alert('Por favor, ingresar una latitud válida.');
                    return;
                }

                new mapboxgl.Marker({
                    // Set the custom marker image
                    element: createCustomMarker(customMarkerImage),
                    draggable: true
                })
                    .setLngLat([lng, lat])
                    .addTo(map);

                map.flyTo({
                    center: [lng, lat],
                    zoom: 15
                });
            }

            // Function to create a custom marker element with the specified image
            function createCustomMarker(markerImage) {
                var img = document.createElement('img');
                img.src = markerImage;
                img.style.width = '34px'; // Adjust the size of the marker image as needed
                img.style.height = '34px'; // Adjust the size of the marker image as needed

                var customMarker = document.createElement('div');
                customMarker.appendChild(img);

                return customMarker;
            }
            </script>


        </main>
        <!-- Footer -->
        <div data-include="../footer" class="mt-auto"></div>
    </section>
</div>

<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Mapbox JS -->
<script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>



</body>

</html>
